<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="X 分钟速成 Lua #  -- 单行注释以两个连字符开头 --[[ 多行注释 --]] ---------------------------------------------------- -- 1. 变量和流程控制 ---------------------------------------------------- num = 42 -- 所有的数字都是双精度浮点型。 -- 别害怕，64位的双精度浮点型数字中有52位用于 -- 保存精确的整型值; 对于52位以内的整型值， -- 不用担心精度问题。 s = &#39;walternate&#39; -- 和Python一样，字符串不可变。 t = &#34;也可以用双引号&#34; u = [[ 多行的字符串 以两个方括号 开始和结尾。]] t = nil -- 撤销t的定义; Lua 支持垃圾回收。 -- 块使用do/end之类的关键字标识： while num &lt; 50 do num = num &#43; 1 -- 不支持 &#43;&#43; 或 &#43;= 运算符。 end -- If语句： if num &gt; 40 then print(&#39;over 40&#39;) elseif s ~= &#39;walternate&#39; then -- ~= 表示不等于。 -- 像Python一样，用 == 检查是否相等 ；字符串同样适用。 io.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="X 分钟速成 Lua" />
<meta property="og:description" content="X 分钟速成 Lua #  -- 单行注释以两个连字符开头 --[[ 多行注释 --]] ---------------------------------------------------- -- 1. 变量和流程控制 ---------------------------------------------------- num = 42 -- 所有的数字都是双精度浮点型。 -- 别害怕，64位的双精度浮点型数字中有52位用于 -- 保存精确的整型值; 对于52位以内的整型值， -- 不用担心精度问题。 s = &#39;walternate&#39; -- 和Python一样，字符串不可变。 t = &#34;也可以用双引号&#34; u = [[ 多行的字符串 以两个方括号 开始和结尾。]] t = nil -- 撤销t的定义; Lua 支持垃圾回收。 -- 块使用do/end之类的关键字标识： while num &lt; 50 do num = num &#43; 1 -- 不支持 &#43;&#43; 或 &#43;= 运算符。 end -- If语句： if num &gt; 40 then print(&#39;over 40&#39;) elseif s ~= &#39;walternate&#39; then -- ~= 表示不等于。 -- 像Python一样，用 == 检查是否相等 ；字符串同样适用。 io." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ikingye.github.io/note-cs/docs/basic/pl/lua/appendix/tutorial/learn-lua-in-x-minutes/" />
<meta property="article:modified_time" content="2021-02-13T16:29:07+08:00" />
<title>X 分钟速成 Lua | 计算机学习笔记</title>
<link rel="manifest" href="/note-cs/manifest.json">
<link rel="icon" href="/note-cs/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/note-cs/book.min.a05275973bc10933f75e45cfddc943bf308da7e5ac2206875045620e6c605584.css" integrity="sha256-oFJ1lzvBCTP3XkXP3clDvzCNp&#43;WsIgaHUEViDmxgVYQ=">
<script defer src="/note-cs/en.search.min.9473722c76f36f9aa2457c3ee24a5a68cfe17e4f7ccfffe6bc4b2b507526012c.js" integrity="sha256-lHNyLHbzb5qiRXw&#43;4kpaaM/hfk98z//mvEsrUHUmASw="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir=>
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/note-cs"><span>计算机学习笔记</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



<ul>
  <li><a href="https://kingye.me" target="_blank" rel="noopener noreferrer">博客</a></li>
  <li><a href="https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200417021727.png" target="_blank" rel="noopener noreferrer">公众号</a></li>
  <li><a href="https://github.com/ikingye" target="_blank" rel="noopener noreferrer">Github</a></li>
  <li><a href="https://weibo.com/kingyip15215" target="_blank" rel="noopener noreferrer">微博</a></li>
  <li><a href="https://www.zhihu.com/people/wutongyip" target="_blank" rel="noopener noreferrer">知乎</a></li>
</ul>
<hr />








  



  
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <span>第一部分 基础</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/computer-composition/" class="">1.1 计算机组成原理</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/os/" class="collapsed ">1.2 操作系统</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/algs/" class="">1.3 数据结构与算法</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/network/" class="">1.4 计算机网络</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/" class="collapsed ">1.5 编程语言</a>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/c/" class="">C</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/cpp/" class="">C&#43;&#43;</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/csharp/" class="collapsed ">C#</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/erlang/" class="collapsed ">Erlang</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/r/" class="collapsed ">R</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/go/" class="">Go</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/haskell/" class="collapsed ">Haskell</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/java/" class="">Java</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/javascript/" class="">JavaScript</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/kotlin/" class="collapsed ">Kotlin</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/" class="collapsed ">Lua</a>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <span>第一部分 基础入门</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/basic/grammar/" class="collapsed ">1.1 语法</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/basic/std/" class="collapsed ">1.2 标准库</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/basic/spec/" class="collapsed ">1.3 编程规范</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/basic/others/" class="collapsed ">1.4 其他</a>
  

          
  
  
  

  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <span>第二部分 进阶实战</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/advanced/pattern/" class="collapsed ">2.1 设计模式</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/advanced/algs/" class="collapsed ">2.2 算法实现</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/advanced/pkg/" class="collapsed ">2.3 常用库</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/advanced/snippet/" class="collapsed ">2.4 代码片段</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/advanced/test/" class="collapsed ">2.5 测试</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/advanced/prof/" class="collapsed ">2.6 性能</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/advanced/frame/" class="collapsed ">2.7 框架</a>
  

          
  
  
  

  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/code/" class="">第三部分 设计与实现</a>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/code/type/" class="collapsed ">3.1 数据类型</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/code/keyword/" class="collapsed ">3.2 关键字</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/code/runtime/" class="collapsed ">3.3 运行时</a>
  

          
  
  
  

  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <span>第四部分 附录</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/appendix/tutorial/" class="collapsed ">4.1 教程</a>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/appendix/tutorial/learn-lua-in-x-minutes/" class="active">X 分钟速成 Lua</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/appendix/interview/" class="collapsed ">4.2 面试题</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/lua/appendix/attention/" class="">4.3 关注项目</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/objective-c/" class="collapsed ">Objective-C</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/php/" class="">PHP</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/python/" class="">Python</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/ruby/" class="collapsed ">Ruby</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/rust/" class="">Rust</a>
  

          
  
  
  

  
  <ul>
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/scala/" class="collapsed ">Scala</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/shell/" class="collapsed ">Shell</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/pl/swift/" class="collapsed ">Swift</a>
  

          
  
  
  

  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/basic/compile/" class="collapsed ">1.6 编译原理</a>
  

          
  
  
  

  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <span>第二部分 方向</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/note-cs/docs/direction/se/" class="collapsed ">2.1 软件工程</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/direction/be/" class="collapsed ">2.2 后端</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/direction/fe/" class="collapsed ">2.3 前端</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/direction/client/" class="collapsed ">2.4 客户端</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/direction/embedded/" class="collapsed ">2.5 嵌入式</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/direction/security/" class="collapsed ">2.6 安全</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/direction/mp/" class="collapsed ">2.7 中台</a>
  

          
  
  
  

  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <span>第三部分 领域</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/note-cs/docs/domain/cc/" class="collapsed ">3.1 云计算</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/domain/bigdata/" class="collapsed ">3.2 大数据</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/domain/ai/" class="collapsed ">3.3 人工智能</a>
  

          
  
  
  

  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <span>第四部分 技能树</span>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/note-cs/docs/skill/tool/" class="collapsed ">4.1 工具</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/skill/stream-media/" class="collapsed ">4.5 流媒体</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/skill/type/" class="collapsed ">文档类型</a>
  

          
  
  
  

  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/book/" class="collapsed ">第五部分 读书</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/course/" class="collapsed ">第六部分 课程</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/note-cs/docs/activity/" class="collapsed ">第七部分 学习活动</a>
  

          
  
  
  

  

        </li>
      
    
  </ul>
  














<hr />
<ul>
  <li><a href="https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200417022040.png" target="_blank" rel="noopener noreferrer">微信</a></li>
  <li><a href="https://qm.qq.com/cgi-bin/qm/qr?k=EUhzg0UwUksxpQnwEmPngRLezlC6qrnn&jump_from=webapi" target="_blank" rel="noopener noreferrer"><img src="//pub.idqqimg.com/wpa/images/group.png"></a></li>
</ul>




</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/note-cs/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>X 分钟速成 Lua</strong>

  <label for="toc-control">
    
    <img src="/note-cs/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav id="TableOfContents"></nav>


  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="x-分钟速成-lua">
  X 分钟速成 Lua
  <a class="anchor" href="#x-%e5%88%86%e9%92%9f%e9%80%9f%e6%88%90-lua">#</a>
</h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua"><span style="color:#75715e">-- 单行注释以两个连字符开头</span>

<span style="color:#75715e">--[[
</span><span style="color:#75715e">     多行注释
</span><span style="color:#75715e">--]]</span>

<span style="color:#75715e">----------------------------------------------------</span>
<span style="color:#75715e">-- 1. 变量和流程控制</span>
<span style="color:#75715e">----------------------------------------------------</span>

num <span style="color:#f92672">=</span> <span style="color:#ae81ff">42</span>  <span style="color:#75715e">-- 所有的数字都是双精度浮点型。</span>
<span style="color:#75715e">-- 别害怕，64位的双精度浮点型数字中有52位用于</span>
<span style="color:#75715e">-- 保存精确的整型值; 对于52位以内的整型值，</span>
<span style="color:#75715e">-- 不用担心精度问题。</span>

s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;walternate&#39;</span>  <span style="color:#75715e">-- 和Python一样，字符串不可变。</span>
t <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;也可以用双引号&#34;</span>
u <span style="color:#f92672">=</span> <span style="color:#e6db74">[[ 多行的字符串
</span><span style="color:#e6db74">       以两个方括号
</span><span style="color:#e6db74">       开始和结尾。]]</span>
t <span style="color:#f92672">=</span> <span style="color:#66d9ef">nil</span>  <span style="color:#75715e">-- 撤销t的定义; Lua 支持垃圾回收。</span>

<span style="color:#75715e">-- 块使用do/end之类的关键字标识：</span>
<span style="color:#66d9ef">while</span> num <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">50</span> <span style="color:#66d9ef">do</span>
  num <span style="color:#f92672">=</span> num <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>  <span style="color:#75715e">-- 不支持 ++ 或 += 运算符。</span>
<span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- If语句：</span>
<span style="color:#66d9ef">if</span> num <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">40</span> <span style="color:#66d9ef">then</span>
  print(<span style="color:#e6db74">&#39;over 40&#39;</span>)
<span style="color:#66d9ef">elseif</span> s <span style="color:#f92672">~=</span> <span style="color:#e6db74">&#39;walternate&#39;</span> <span style="color:#66d9ef">then</span>  <span style="color:#75715e">-- ~= 表示不等于。</span>
  <span style="color:#75715e">-- 像Python一样，用 == 检查是否相等 ；字符串同样适用。</span>
  io.write(<span style="color:#e6db74">&#39;not over 40</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)  <span style="color:#75715e">-- 默认标准输出。</span>
<span style="color:#66d9ef">else</span>
  <span style="color:#75715e">-- 默认全局变量。</span>
  thisIsGlobal <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>  <span style="color:#75715e">-- 通常使用驼峰。</span>

  <span style="color:#75715e">-- 如何定义局部变量：</span>
  <span style="color:#66d9ef">local</span> line <span style="color:#f92672">=</span> io.read()  <span style="color:#75715e">-- 读取标准输入的下一行。</span>

  <span style="color:#75715e">-- ..操作符用于连接字符串：</span>
  print(<span style="color:#e6db74">&#39;Winter is coming, &#39;</span> <span style="color:#f92672">..</span> line)
<span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- 未定义的变量返回nil。</span>
<span style="color:#75715e">-- 这不是错误：</span>
foo <span style="color:#f92672">=</span> anUnknownVariable  <span style="color:#75715e">-- 现在 foo = nil.</span>

aBoolValue <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>

<span style="color:#75715e">--只有nil和false为假; 0和 &#39;&#39;均为真！</span>
<span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> aBoolValue <span style="color:#66d9ef">then</span> print(<span style="color:#e6db74">&#39;false&#39;</span>) <span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- &#39;or&#39;和 &#39;and&#39;短路</span>
<span style="color:#75715e">-- 类似于C/js里的 a?b:c 操作符：</span>
ans <span style="color:#f92672">=</span> aBoolValue <span style="color:#f92672">and</span> <span style="color:#e6db74">&#39;yes&#39;</span> <span style="color:#f92672">or</span> <span style="color:#e6db74">&#39;no&#39;</span>  <span style="color:#75715e">--&gt; &#39;no&#39;</span>

karlSum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">100</span> <span style="color:#66d9ef">do</span>  <span style="color:#75715e">-- 范围包含两端</span>
  karlSum <span style="color:#f92672">=</span> karlSum <span style="color:#f92672">+</span> i
<span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- 使用 &#34;100, 1, -1&#34; 表示递减的范围：</span>
fredSum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">for</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">1</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">do</span> fredSum <span style="color:#f92672">=</span> fredSum <span style="color:#f92672">+</span> j <span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- 通常，范围表达式为begin, end[, step].</span>

<span style="color:#75715e">-- 循环的另一种结构：</span>
<span style="color:#66d9ef">repeat</span>
  print(<span style="color:#e6db74">&#39;the way of the future&#39;</span>)
  num <span style="color:#f92672">=</span> num <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">until</span> num <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>

<span style="color:#75715e">----------------------------------------------------</span>
<span style="color:#75715e">-- 2. 函数。</span>
<span style="color:#75715e">----------------------------------------------------</span>

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fib</span>(n)
  <span style="color:#66d9ef">if</span> n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">2</span> <span style="color:#66d9ef">then</span> <span style="color:#66d9ef">return</span> n <span style="color:#66d9ef">end</span>
  <span style="color:#66d9ef">return</span> fib(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">+</span> fib(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
<span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- 支持闭包及匿名函数：</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">adder</span>(x)
  <span style="color:#75715e">-- 调用adder时，会创建返回的函数，</span>
  <span style="color:#75715e">-- 并且会记住x的值：</span>
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span> (y) <span style="color:#66d9ef">return</span> x <span style="color:#f92672">+</span> y <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>
a1 <span style="color:#f92672">=</span> adder(<span style="color:#ae81ff">9</span>)
a2 <span style="color:#f92672">=</span> adder(<span style="color:#ae81ff">36</span>)
print(a1(<span style="color:#ae81ff">16</span>))  <span style="color:#75715e">--&gt; 25</span>
print(a2(<span style="color:#ae81ff">64</span>))  <span style="color:#75715e">--&gt; 100</span>

<span style="color:#75715e">-- 返回值、函数调用和赋值都可以</span>
<span style="color:#75715e">-- 使用长度不匹配的list。</span>
<span style="color:#75715e">-- 不匹配的接收方会被赋值nil；</span>
<span style="color:#75715e">-- 不匹配的发送方会被丢弃。</span>

x, y, z <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>
<span style="color:#75715e">-- x = 1、y = 2、z = 3, 而 4 会被丢弃。</span>

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">bar</span>(a, b, c)
  print(a, b, c)
  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">42</span>
<span style="color:#66d9ef">end</span>

x, y <span style="color:#f92672">=</span> bar(<span style="color:#e6db74">&#39;zaphod&#39;</span>)  <span style="color:#75715e">--&gt; 打印 &#34;zaphod  nil nil&#34;</span>
<span style="color:#75715e">-- 现在 x = 4, y = 8, 而值15..42被丢弃。</span>

<span style="color:#75715e">-- 函数是一等公民，可以是局部的，也可以是全局的。</span>
<span style="color:#75715e">-- 以下表达式等价：</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">f</span>(x) <span style="color:#66d9ef">return</span> x <span style="color:#f92672">*</span> x <span style="color:#66d9ef">end</span>
f <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (x) <span style="color:#66d9ef">return</span> x <span style="color:#f92672">*</span> x <span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- 这些也是等价的：</span>
<span style="color:#66d9ef">local</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">g</span>(x) <span style="color:#66d9ef">return</span> math.sin(x) <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">local</span> g; g <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (x) <span style="color:#66d9ef">return</span> math.sin(x) <span style="color:#66d9ef">end</span>
<span style="color:#75715e">-- 以上均因&#39;local g&#39;，使得g可以自引用。</span>
<span style="color:#66d9ef">local</span> g <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(x) <span style="color:#66d9ef">return</span> math.sin(x) <span style="color:#66d9ef">end</span>
<span style="color:#75715e">-- 等价于 local function g(x)..., 但函数体中g不可自引用</span>

<span style="color:#75715e">-- 顺便提下，三角函数以弧度为单位。</span>

<span style="color:#75715e">-- 用一个字符串参数调用函数，可以省略括号：</span>
print <span style="color:#e6db74">&#39;hello&#39;</span>  <span style="color:#75715e">--可以工作。</span>

<span style="color:#75715e">-- 调用函数时，如果只有一个table参数，</span>
<span style="color:#75715e">-- 同样可以省略括号（table详情见下）：</span>
print {} <span style="color:#75715e">-- 一样可以工作。</span>

<span style="color:#75715e">----------------------------------------------------</span>
<span style="color:#75715e">-- 3. Table。</span>
<span style="color:#75715e">----------------------------------------------------</span>

<span style="color:#75715e">-- Table = Lua唯一的组合数据结构;</span>
<span style="color:#75715e">--         它们是关联数组。</span>
<span style="color:#75715e">-- 类似于PHP的数组或者js的对象，</span>
<span style="color:#75715e">-- 它们是哈希表或者字典，也可以当列表使用。</span>

<span style="color:#75715e">-- 按字典/map的方式使用Table：</span>

<span style="color:#75715e">-- Dict字面量默认使用字符串类型的key：</span>
t <span style="color:#f92672">=</span> {key1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;value1&#39;</span>, key2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>}

<span style="color:#75715e">-- 字符串key可以使用类似js的点标记：</span>
print(t.key1)  <span style="color:#75715e">-- 打印 &#39;value1&#39;.</span>
t.newKey <span style="color:#f92672">=</span> {}  <span style="color:#75715e">-- 添加新的键值对。</span>
t.key2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">nil</span>   <span style="color:#75715e">-- 从table删除 key2。</span>

<span style="color:#75715e">-- 使用任何非nil的值作为key：</span>
u <span style="color:#f92672">=</span> {[<span style="color:#e6db74">&#39;@!#&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;qbert&#39;</span>, [{}] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1729</span>, [<span style="color:#ae81ff">6.28</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;tau&#39;</span>}
print(u[<span style="color:#ae81ff">6.28</span>])  <span style="color:#75715e">-- 打印 &#34;tau&#34;</span>

<span style="color:#75715e">-- 数字和字符串的key按值匹配的</span>
<span style="color:#75715e">-- table按id匹配。</span>
a <span style="color:#f92672">=</span> u[<span style="color:#e6db74">&#39;@!#&#39;</span>]  <span style="color:#75715e">-- 现在 a = &#39;qbert&#39;.</span>
b <span style="color:#f92672">=</span> u[{}]     <span style="color:#75715e">-- 我们或许期待的是 1729,  但是得到的是nil:</span>
<span style="color:#75715e">-- b = nil ，因为没有找到。</span>
<span style="color:#75715e">-- 之所以没找到，是因为我们用的key与保存数据时用的不是同</span>
<span style="color:#75715e">-- 一个对象。</span>
<span style="color:#75715e">-- 所以字符串和数字是移植性更好的key。</span>

<span style="color:#75715e">-- 只需要一个table参数的函数调用不需要括号：</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">h</span>(x) print(x.key1) <span style="color:#66d9ef">end</span>
h{key1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Sonmi~451&#39;</span>}  <span style="color:#75715e">-- 打印&#39;Sonmi~451&#39;.</span>

<span style="color:#66d9ef">for</span> key, val <span style="color:#66d9ef">in</span> pairs(u) <span style="color:#66d9ef">do</span>  <span style="color:#75715e">-- 遍历Table</span>
  print(key, val)
<span style="color:#66d9ef">end</span>

<span style="color:#75715e">-- _G 是一个特殊的table，用于保存所有的全局变量</span>
print(_G[<span style="color:#e6db74">&#39;_G&#39;</span>] <span style="color:#f92672">==</span> _G)  <span style="color:#75715e">-- 打印&#39;true&#39;.</span>

<span style="color:#75715e">-- 按列表/数组的方式使用：</span>

<span style="color:#75715e">-- 列表字面量隐式添加整数键：</span>
v <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;value1&#39;</span>, <span style="color:#e6db74">&#39;value2&#39;</span>, <span style="color:#ae81ff">1.21</span>, <span style="color:#e6db74">&#39;gigawatts&#39;</span>}
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, <span style="color:#f92672">#</span>v <span style="color:#66d9ef">do</span>  <span style="color:#75715e">-- #v 是列表的大小</span>
  print(v[i])  <span style="color:#75715e">-- 索引从 1 开始!! 太疯狂了！</span>
<span style="color:#66d9ef">end</span>
<span style="color:#75715e">-- &#39;list&#39;并非真正的类型，v 其实是一个table，</span>
<span style="color:#75715e">-- 只不过它用连续的整数作为key，可以像list那样去使用。</span>

<span style="color:#75715e">----------------------------------------------------</span>
<span style="color:#75715e">-- 3.1 元表（metatable） 和元方法（metamethod）。</span>
<span style="color:#75715e">----------------------------------------------------</span>

<span style="color:#75715e">-- table的元表提供了一种机制，支持类似操作符重载的行为。</span>
<span style="color:#75715e">-- 稍后我们会看到元表如何支持类似js prototype的行为。</span>

f1 <span style="color:#f92672">=</span> {a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, b <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>}  <span style="color:#75715e">-- 表示一个分数 a/b.</span>
f2 <span style="color:#f92672">=</span> {a <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, b <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>}

<span style="color:#75715e">-- 这会失败：</span>
<span style="color:#75715e">-- s = f1 + f2</span>

metafraction <span style="color:#f92672">=</span> {}
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">metafraction</span>.<span style="color:#a6e22e">__add</span>(f1, f2)
  <span style="color:#66d9ef">local</span> sum <span style="color:#f92672">=</span> {}
  sum.b <span style="color:#f92672">=</span> f1.b <span style="color:#f92672">*</span> f2.b
  sum.a <span style="color:#f92672">=</span> f1.a <span style="color:#f92672">*</span> f2.b <span style="color:#f92672">+</span> f2.a <span style="color:#f92672">*</span> f1.b
  <span style="color:#66d9ef">return</span> sum
<span style="color:#66d9ef">end</span>

setmetatable(f1, metafraction)
setmetatable(f2, metafraction)

s <span style="color:#f92672">=</span> f1 <span style="color:#f92672">+</span> f2  <span style="color:#75715e">-- 调用在f1的元表上的__add(f1, f2) 方法</span>

<span style="color:#75715e">-- f1, f2 没有关于元表的key，这点和js的prototype不一样。</span>
<span style="color:#75715e">-- 因此你必须用getmetatable(f1)获取元表。</span>
<span style="color:#75715e">-- 元表是一个普通的table，</span>
<span style="color:#75715e">-- 元表的key是普通的Lua中的key，例如__add。</span>

<span style="color:#75715e">-- 但是下面一行代码会失败，因为s没有元表：</span>
<span style="color:#75715e">-- t = s + s</span>
<span style="color:#75715e">-- 下面提供的与类相似的模式可以解决这个问题：</span>

<span style="color:#75715e">-- 元表的__index 可以重载用于查找的点操作符：</span>
defaultFavs <span style="color:#f92672">=</span> {animal <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;gru&#39;</span>, food <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;donuts&#39;</span>}
myFavs <span style="color:#f92672">=</span> {food <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;pizza&#39;</span>}
setmetatable(myFavs, {__index <span style="color:#f92672">=</span> defaultFavs})
eatenBy <span style="color:#f92672">=</span> myFavs.animal  <span style="color:#75715e">-- 可以工作！感谢元表</span>

<span style="color:#75715e">-- 如果在table中直接查找key失败，会使用</span>
<span style="color:#75715e">-- 元表的__index 递归地重试。</span>

<span style="color:#75715e">-- __index的值也可以是function(tbl, key)</span>
<span style="color:#75715e">-- 这样可以支持自定义查找。</span>

<span style="color:#75715e">-- __index、__add等的值，被称为元方法。</span>
<span style="color:#75715e">-- 这里是一个table元方法的清单：</span>

<span style="color:#75715e">-- __add(a, b)                     for a + b</span>
<span style="color:#75715e">-- __sub(a, b)                     for a - b</span>
<span style="color:#75715e">-- __mul(a, b)                     for a * b</span>
<span style="color:#75715e">-- __div(a, b)                     for a / b</span>
<span style="color:#75715e">-- __mod(a, b)                     for a % b</span>
<span style="color:#75715e">-- __pow(a, b)                     for a ^ b</span>
<span style="color:#75715e">-- __unm(a)                        for -a</span>
<span style="color:#75715e">-- __concat(a, b)                  for a .. b</span>
<span style="color:#75715e">-- __len(a)                        for #a</span>
<span style="color:#75715e">-- __eq(a, b)                      for a == b</span>
<span style="color:#75715e">-- __lt(a, b)                      for a &lt; b</span>
<span style="color:#75715e">-- __le(a, b)                      for a &lt;= b</span>
<span style="color:#75715e">-- __index(a, b)  &lt;fn or a table&gt;  for a.b</span>
<span style="color:#75715e">-- __newindex(a, b, c)             for a.b = c</span>
<span style="color:#75715e">-- __call(a, ...)                  for a(...)</span>

<span style="color:#75715e">----------------------------------------------------</span>
<span style="color:#75715e">-- 3.2 与类相似的table和继承。</span>
<span style="color:#75715e">----------------------------------------------------</span>

<span style="color:#75715e">-- Lua没有内建的类；可以通过不同的方法，利用表和元表</span>
<span style="color:#75715e">-- 来实现类。</span>

<span style="color:#75715e">-- 下面是一个例子，解释在后面：</span>

Dog <span style="color:#f92672">=</span> {}                                   <span style="color:#75715e">-- 1.</span>

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Dog</span>:<span style="color:#a6e22e">new</span>()                         <span style="color:#75715e">-- 2.</span>
  <span style="color:#66d9ef">local</span> newObj <span style="color:#f92672">=</span> {sound <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;woof&#39;</span>}                <span style="color:#75715e">-- 3.</span>
  self.__index <span style="color:#f92672">=</span> self                      <span style="color:#75715e">-- 4.</span>
  <span style="color:#66d9ef">return</span> setmetatable(newObj, self)        <span style="color:#75715e">-- 5.</span>
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Dog</span>:<span style="color:#a6e22e">makeSound</span>()                   <span style="color:#75715e">-- 6.</span>
  print(<span style="color:#e6db74">&#39;I say &#39;</span> <span style="color:#f92672">..</span> self.sound)
<span style="color:#66d9ef">end</span>

mrDog <span style="color:#f92672">=</span> Dog:new()                          <span style="color:#75715e">-- 7.</span>
mrDog:makeSound()  <span style="color:#75715e">-- &#39;I say woof&#39;         -- 8.</span>

<span style="color:#75715e">-- 1. Dog看上去像一个类；其实它是一个table。</span>
<span style="color:#75715e">-- 2. 函数tablename:fn(...) 等价于</span>
<span style="color:#75715e">--    函数tablename.fn(self, ...)</span>
<span style="color:#75715e">--    冒号（:）只是添加了self作为第一个参数。</span>
<span style="color:#75715e">--    阅读7 &amp; 8条 了解self变量是如何得到其值的。</span>
<span style="color:#75715e">-- 3. newObj是类Dog的一个实例。</span>
<span style="color:#75715e">-- 4. self = 被继承的类。通常self = Dog，不过继承可以改变它。</span>
<span style="color:#75715e">--    如果把newObj的元表和__index都设置为self，</span>
<span style="color:#75715e">--    newObj就可以得到self的函数。</span>
<span style="color:#75715e">-- 5. 备忘：setmetatable返回其第一个参数。</span>
<span style="color:#75715e">-- 6. 冒号（：）的作用和第2条一样，不过这里</span>
<span style="color:#75715e">--    self是一个实例，而不是类</span>
<span style="color:#75715e">-- 7. 等价于Dog.new(Dog)，所以在new()中，self = Dog。</span>
<span style="color:#75715e">-- 8. 等价于mrDog.makeSound(mrDog); self = mrDog。</span>

<span style="color:#75715e">----------------------------------------------------</span>

<span style="color:#75715e">-- 继承的例子：</span>

LoudDog <span style="color:#f92672">=</span> Dog:new()                           <span style="color:#75715e">-- 1.</span>

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">LoudDog</span>:<span style="color:#a6e22e">makeSound</span>()
  <span style="color:#66d9ef">local</span> s <span style="color:#f92672">=</span> self.sound <span style="color:#f92672">..</span> <span style="color:#e6db74">&#39; &#39;</span>                       <span style="color:#75715e">-- 2.</span>
  print(s <span style="color:#f92672">..</span> s <span style="color:#f92672">..</span> s)
<span style="color:#66d9ef">end</span>

seymour <span style="color:#f92672">=</span> LoudDog:new()                       <span style="color:#75715e">-- 3.</span>
seymour:makeSound()  <span style="color:#75715e">-- &#39;woof woof woof&#39;      -- 4.</span>

<span style="color:#75715e">-- 1. LoudDog获得Dog的方法和变量列表。</span>
<span style="color:#75715e">-- 2. 因为new()的缘故，self拥有了一个&#39;sound&#39; key，参见第3条。</span>
<span style="color:#75715e">-- 3. 等价于LoudDog.new(LoudDog)，转换一下就是</span>
<span style="color:#75715e">--    Dog.new(LoudDog)，这是因为LoudDog没有&#39;new&#39; key，</span>
<span style="color:#75715e">--    但是它的元表中有 __index = Dog。</span>
<span style="color:#75715e">--    结果: seymour的元表是LoudDog，并且</span>
<span style="color:#75715e">--    LoudDog.__index = Dog。所以有seymour.key</span>
<span style="color:#75715e">--    = seymour.key, LoudDog.key, Dog.key</span>
<span style="color:#75715e">--    从其中第一个有指定key的table获取。</span>
<span style="color:#75715e">-- 4. 在LoudDog可以找到&#39;makeSound&#39;的key；</span>
<span style="color:#75715e">--    等价于LoudDog.makeSound(seymour)。</span>

<span style="color:#75715e">-- 如果有必要，子类也可以有new()，与基类相似：</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">LoudDog</span>:<span style="color:#a6e22e">new</span>()
  <span style="color:#66d9ef">local</span> newObj <span style="color:#f92672">=</span> {}
  <span style="color:#75715e">-- 初始化newObj</span>
  self.__index <span style="color:#f92672">=</span> self
  <span style="color:#66d9ef">return</span> setmetatable(newObj, self)
<span style="color:#66d9ef">end</span>

<span style="color:#75715e">----------------------------------------------------</span>
<span style="color:#75715e">-- 4. 模块</span>
<span style="color:#75715e">----------------------------------------------------</span>


<span style="color:#75715e">--[[ 我把这部分给注释了，这样脚本剩下的部分可以运行
</span><span style="color:#75715e">-- 假设文件mod.lua的内容类似这样：
</span><span style="color:#75715e">local M = {}
</span><span style="color:#75715e">
</span><span style="color:#75715e">local function sayMyName()
</span><span style="color:#75715e">  print(&#39;Hrunkner&#39;)
</span><span style="color:#75715e">end
</span><span style="color:#75715e">
</span><span style="color:#75715e">function M.sayHello()
</span><span style="color:#75715e">  print(&#39;Why hello there&#39;)
</span><span style="color:#75715e">  sayMyName()
</span><span style="color:#75715e">end
</span><span style="color:#75715e">
</span><span style="color:#75715e">return M
</span><span style="color:#75715e">
</span><span style="color:#75715e">-- 另一个文件可以使用mod.lua的功能：
</span><span style="color:#75715e">local mod = require(&#39;mod&#39;)  -- 运行文件mod.lua.
</span><span style="color:#75715e">
</span><span style="color:#75715e">-- require是包含模块的标准做法。
</span><span style="color:#75715e">-- require等价于:     (针对没有被缓存的情况；参见后面的内容)
</span><span style="color:#75715e">local mod = (function ()
</span><span style="color:#75715e">  &lt;contents of mod.lua&gt;
</span><span style="color:#75715e">end)()
</span><span style="color:#75715e">-- mod.lua被包在一个函数体中，因此mod.lua的局部变量
</span><span style="color:#75715e">-- 对外不可见。
</span><span style="color:#75715e">
</span><span style="color:#75715e">-- 下面的代码可以工作，因为在这里mod = mod.lua 中的 M：
</span><span style="color:#75715e">mod.sayHello()  -- Says hello to Hrunkner.
</span><span style="color:#75715e">
</span><span style="color:#75715e">-- 这是错误的；sayMyName只在mod.lua中存在：
</span><span style="color:#75715e">mod.sayMyName()  -- 错误
</span><span style="color:#75715e">
</span><span style="color:#75715e">-- require返回的值会被缓存，所以一个文件只会被运行一次，
</span><span style="color:#75715e">-- 即使它被require了多次。
</span><span style="color:#75715e">
</span><span style="color:#75715e">-- 假设mod2.lua包含代码&#34;print(&#39;Hi!&#39;)&#34;。
</span><span style="color:#75715e">local a = require(&#39;mod2&#39;)  -- 打印Hi!
</span><span style="color:#75715e">local b = require(&#39;mod2&#39;)  -- 不再打印; a=b.
</span><span style="color:#75715e">
</span><span style="color:#75715e">-- dofile与require类似，但是不缓存：
</span><span style="color:#75715e">dofile(&#39;mod2&#39;)  --&gt; Hi!
</span><span style="color:#75715e">dofile(&#39;mod2&#39;)  --&gt; Hi! (再次运行，与require不同)
</span><span style="color:#75715e">
</span><span style="color:#75715e">-- loadfile加载一个lua文件，但是并不运行它。
</span><span style="color:#75715e">f = loadfile(&#39;mod2&#39;)  -- Calling f() runs mod2.lua.
</span><span style="color:#75715e">
</span><span style="color:#75715e">-- loadstring是loadfile的字符串版本。
</span><span style="color:#75715e">g = loadstring(&#39;print(343)&#39;)  --返回一个函数。
</span><span style="color:#75715e">g()  -- 打印343; 在此之前什么也不打印。
</span><span style="color:#75715e">
</span><span style="color:#75715e">--]]</span>
</code></pre></div><p>参考：</p>
<ul>
<li><a href="https://learnxinyminutes.com/docs/zh-cn/lua-cn/">X 分钟速成 Lua</a></li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">



  <div><a class="flex align-center" href="https://github.com/ikingye/note-cs/commit/9a6b3954541981ab71069300585d6bbc8c8c63d9" title='Last modified by yewang | 2021-02-13' target="_blank" rel="noopener">
      <img src="/note-cs/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>2021-02-13</span>
    </a>
  </div>



</div>

 
        <div>
    <br>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <p><span id="busuanzi_container_page_pv">本文访问量 <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> 次</span></p>
    <p><span id="busuanzi_container_site_pv">本站总访问量 <span id="busuanzi_value_site_pv"><i class="fa fa-spinner fa-spin"></i></span> 次</span></p>
    <p><span id="busuanzi_container_site_uv">本站总访客数 <span id="busuanzi_value_site_uv"><i class="fa fa-spinner fa-spin"></i></span> 人次</span></p>
</div>


      </footer>

      
  
  <div class="book-comments">
<script src="https://utteranc.es/client.js"
  repo="ikingye/note-cs"
  issue-term="pathname"
  theme="github-light"
  crossorigin="anonymous"
  async
></script>

<div id="footer">
  <p>
    <a href="https://kingye.me">叶王</a> &copy; 2013-2020
    版权所有。如果本文档对你有所帮助，可以<a
      href="https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200428110046.png"
      target="_blank"
      rel="noopener noreferrer"
      >请作者喝饮料</a
    >。
  </p>
</div>

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents"></nav>

 
    </aside>
    
  </main>

  
</body>

</html>












